(()=>{var o,t,c,a,s,e,n,r,d,u,i,l,p,m,f={};
/*!**********************************************!*\
  !*** ./assets/js/admin/src/boost-product.js ***!
  \**********************************************/o=jQuery,t=!1,c="",a=!1,s={message:null,overlayCSS:{background:"#fff",opacity:.7},ignoreIfBlocked:!0},e=function(){o(document).on("click",".ywcas-boost-product-button",r),o(document).on("click",".ywcas-boost-product-modal-content #ywcas-add-boost-product",u),o(document).on("click",".yith-plugin-fw__action-button--delete-action",i),o(document).on("click",'input[name="ywcas_boost"]',l),o(document).on("click","#doaction",m),o(document).on("keydown",".ywcas-boost-product-modal-content #ywcas-boost-product-search",d),o(document).on("click",".ywcas-boost-detail .notice-dismiss",n),o(document).find(".yith-plugin-fw__list-table-blank-state ").length>0?o(document).find("#yith_wcas_panel_boost-boost-product #yith-plugin-fw-panel-custom-tab-boost-boost-boost-product").removeClass("list-full"):o(document).find("#yith_wcas_panel_boost-boost-product #yith-plugin-fw-panel-custom-tab-boost-boost-boost-product").addClass("list-full"),p()},n=function(){o(document).find(".ywcas-boost-detail #message").removeClass("show")},r=function(t){t.preventDefault(),a=yith.ui.modal({title:ywcas_boost_product_params.modalTitle,content:o("#ywcas-modal-content").html(),width:560,allowWpMenu:!1,closeWhenClickingOnOverlay:!0,classes:{content:"ywcas-boost-product-modal-content"}}),e()},d=function(){var a=o(".ywcas-boost-product-modal-content #ywcas-boost-product-search").val();if(!(c===a||a.length<2)){!1!==t&&t.abort();var e=o(document).find(".ywcas-boost-product-modal-content .ywcas-boost-product-search-results");c=a,t=o.ajax({url:ywcas_boost_product_params.ajaxurl,data:{security:ywcas_boost_product_params.searchProductNonce,action:"ywcas_search_product",term:a},type:"POST",beforeSend:function(){e.block(s)},success:function(t){if(t.success){var c,a=jQuery(null===(c=t.data)||void 0===c?void 0:c.content).find(".ywcas-boost-product-search-results");o(document).find(".ywcas-boost-product-modal-content .ywcas-boost-product-search-results").html(a.html())}},complete:function(){e.unblock()}})}},u=function(c){c.preventDefault(),c.stopPropagation(),o(document).find(".ywcas-boost-product-modal-content .ywcas-boost-product-checked").filter(":checked").length<1?o(".ywcas-boost-product-modal-content .boost-product-error").show():o(".ywcas-boost-product-modal-content .boost-product-error").hide();var n=jQuery(c.target.closest("form")),r=new FormData,d=o(".ywcas-boost-table");jQuery.each(n.serializeArray(),(function(o,t){r.append(t.name,t.value)})),r.append("security",ywcas_boost_product_params.searchProductNonce),r.append("action","ywcas_boost_product"),r.append("href",document.location.href),!1!==t&&t.abort(),t=jQuery.ajax({url:ywcas_boost_product_params.ajaxurl,data:r,dataType:"json",contentType:!1,processData:!1,type:"POST",beforeSend:function(){a.close(),d.block(s)},success:function(t){var c;if(null!==(c=t.data)&&void 0!==c&&c.content){var a,s=o(null===(a=t.data)||void 0===a?void 0:a.content).find(".ywcas-boost-detail");o(document).find(".ywcas-boost-table .ywcas-boost-detail").html(s.html()),e()}},complete:function(){d.unblock()}})},i=function(t){t.stopPropagation(),t.preventDefault(),yith.ui.confirm({title:ywcas_boost_product_params.confirm_message.title,message:ywcas_boost_product_params.confirm_message.desc,confirmButton:ywcas_boost_product_params.confirm_message.confirmButton,closeAfterConfirm:!0,classes:{wrap:"ywcas-warning-popup"},onConfirm:function(){var c=o(t.target.closest(".action-wrapper")).data("post_id"),a=o(t.target.closest("tr")),n=o(t.target.closest("#the-list")).find("tr").length,r=a;o.ajax({url:ywcas_boost_product_params.ajaxurl,data:{security:ywcas_boost_product_params.searchProductNonce,action:"ywcas_delete_boosted_product",post_id:c,rows:n},type:"POST",beforeSend:function(){r.block(s)},success:function(t){if(t.success){var c;if(""!==(null===(c=t.data)||void 0===c?void 0:c.content)){var s,n=o(null===(s=t.data)||void 0===s?void 0:s.content).find(".ywcas-boost-detail");o(document).find(".ywcas-boost-table .ywcas-boost-detail").html(n.html()),e()}else a.remove();o(document).find(".ywcas-boost-detail #message").addClass("show")}},complete:function(){r.unblock()}})}})},l=function(c){!1!==t&&t.abort();var a=o(c.target).data("post_id"),s=o(c.target).val();t=o.ajax({url:ywcas_boost_product_params.ajaxurl,data:{security:ywcas_boost_product_params.searchProductNonce,action:"ywcas_update_boost",postID:a,newBoost:s},type:"POST",success:function(t){if(t.success){var c,a=jQuery(null===(c=t.data)||void 0===c?void 0:c.content).find(".ywcas-boost-product-search-results");o(document).find(".ywcas-boost-product-modal-content .ywcas-boost-product-search-results").html(a.html())}}})},p=function(){var t=o(document).find("#yith_wcas_panel_boost-boost-product h1 #header-add-product"),c=o(document).find(".yith-plugin-fw__list-table-blank-state__icon");if(t.length>0&&c.length>0&&t.remove(),!(t.length>0||c.length>0)){var a=o(document).find("#header-add-product");a.length>0&&o("#yith_wcas_panel_boost-boost-product h1").append(a)}},m=function(t){t.stopPropagation(),t.preventDefault();var c=o(document).find("#bulk-action-selector-top"),a=o(document).find('input[name="boost[]"]:checked').length;if("delete"!==c.val()||0===a)return!1;yith.ui.confirm({title:ywcas_boost_product_params.confirm_message.title,message:ywcas_boost_product_params.confirm_message.desc,confirmButton:ywcas_boost_product_params.confirm_message.confirmButton,closeAfterConfirm:!0,classes:{wrap:"ywcas-warning-popup"},onConfirm:function(){return o(document).find("#ywcas-boost-product-list-form").submit()}})},e();var b=window;for(var y in f)b[y]=f[y];f.__esModule&&Object.defineProperty(b,"__esModule",{value:!0})})();