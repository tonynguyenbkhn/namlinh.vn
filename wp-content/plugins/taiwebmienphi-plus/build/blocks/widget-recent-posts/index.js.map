{"version":3,"file":"blocks/widget-recent-posts/index.js","mappings":"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","sources":["webpack://taiwebmienphi-plus/./src/icons.js","webpack://taiwebmienphi-plus/external window [\"wp\",\"blockEditor\"]","webpack://taiwebmienphi-plus/external window [\"wp\",\"blocks\"]","webpack://taiwebmienphi-plus/external window [\"wp\",\"components\"]","webpack://taiwebmienphi-plus/external window [\"wp\",\"data\"]","webpack://taiwebmienphi-plus/external window [\"wp\",\"element\"]","webpack://taiwebmienphi-plus/external window [\"wp\",\"i18n\"]","webpack://taiwebmienphi-plus/webpack/bootstrap","webpack://taiwebmienphi-plus/webpack/runtime/define property getters","webpack://taiwebmienphi-plus/webpack/runtime/hasOwnProperty shorthand","webpack://taiwebmienphi-plus/webpack/runtime/make namespace object","webpack://taiwebmienphi-plus/./src/blocks/widget-recent-posts/index.js"],"sourcesContent":["export default {\r\n  primary: <svg width=\"691\" height=\"691\" viewBox=\"0 0 691 691\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"691\" height=\"691\" fill=\"white\" /><path d=\"M29 154C29 154 469.608 157.959 444.692 484.016C405.155 439.335 326.349 358.457 225.067 296.526C225.067 296.526 370.492 433.114 421.132 532.939L420.05 533.788C420.32 534.069 141.386 598.546 29 154Z\" fill=\"#017D03\" /><path d=\"M661.34 316.041C661.34 316.041 434.131 346.298 466.087 512.863C483.959 487.411 519.977 440.467 568.453 402.01C568.453 402.01 501.291 481.755 480.981 536.618L481.522 536.899C481.794 536.899 629.384 552.453 661.34 316.041Z\" fill=\"#017D03\" /><path d=\"M533.803 221.86C533.803 221.86 414.647 281.528 460.956 366.648C466.373 349.115 477.747 316.877 497.787 286.618C497.787 286.618 474.767 343.176 473.413 376.828H473.955C473.685 377.111 557.365 357.599 533.803 221.86Z\" fill=\"#017D03\" /></svg>,\r\n  add: <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\"></path></svg>\r\n};\r\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { useSelect } from '@wordpress/data';\r\nimport { useMemo } from '@wordpress/element';\r\nimport { registerBlockType } from '@wordpress/blocks';\r\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody, ToggleControl, FormTokenField, TextControl } from '@wordpress/components';\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport block from \"./block.json\";\r\nimport icons from \"./../../icons.js\";\r\n\r\n\r\n\r\nregisterBlockType(block.name, {\r\n  icon: icons.primary,\r\n  edit({ attributes, setAttributes }) {\r\n    const { showDescription, showDate, showAuthor, showCategory, showViewMore, selectedPostIds, postsPerPage, titleLimit, excerptLimit, textViewMore } = attributes;\r\n    const blockProps = useBlockProps();\r\n\r\n    const MultiPostSelector = ({ selectedPostIds, onChange }) => {\r\n      const posts = useSelect((select) =>\r\n        select('core').getEntityRecords('postType', 'post', { per_page: 100 })\r\n        , []);\r\n\r\n      const options = useMemo(() => {\r\n        if (!posts) return [];\r\n        return posts.map((post) => ({\r\n          id: post.id,\r\n          title: post.title.rendered,\r\n        }));\r\n      }, [posts]);\r\n\r\n      const selectedTitles = useMemo(() => {\r\n        return selectedPostIds\r\n          .map((id) => {\r\n            const post = options.find((p) => p.id === id);\r\n            return post ? post.title : null;\r\n          })\r\n          .filter(Boolean);\r\n      }, [selectedPostIds, options]);\r\n\r\n      const handleChange = (titles) => {\r\n        const ids = titles.map((title) => {\r\n          const found = options.find((p) => p.title === title);\r\n          return found ? found.id : null;\r\n        }).filter(Boolean);\r\n\r\n        onChange(ids);\r\n      };\r\n\r\n      return (\r\n        <FormTokenField\r\n          label={__('Select Posts', 'taiwebmienphi-plus')}\r\n          value={selectedTitles}\r\n          suggestions={options.map((p) => p.title)}\r\n          onChange={handleChange}\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <>\r\n        <InspectorControls>\r\n          <PanelBody title={__('General', 'taiwebmienphi-plus')}>\r\n            <ToggleControl\r\n              label={__('Show / Hide Description', 'taiwebmienphi-plus')}\r\n              checked={showDescription}\r\n              onChange={showDescription => setAttributes({ showDescription })}\r\n            />\r\n\r\n            <ToggleControl\r\n              label={__('Show / Hide Date', 'taiwebmienphi-plus')}\r\n              checked={showDate}\r\n              onChange={showDate => setAttributes({ showDate })}\r\n            />\r\n\r\n            <ToggleControl\r\n              label={__('Show / Hide Author', 'taiwebmienphi-plus')}\r\n              checked={showAuthor}\r\n              onChange={showAuthor => setAttributes({ showAuthor })}\r\n            />\r\n\r\n            <ToggleControl\r\n              label={__('Show / Hide Category', 'taiwebmienphi-plus')}\r\n              checked={showCategory}\r\n              onChange={showCategory => setAttributes({ showCategory })}\r\n            />\r\n\r\n            <ToggleControl\r\n              label={__('Show / Hide View More', 'taiwebmienphi-plus')}\r\n              checked={showViewMore}\r\n              onChange={showViewMore => setAttributes({ showViewMore })}\r\n            />\r\n\r\n            <MultiPostSelector\r\n              selectedPostIds={selectedPostIds}\r\n              onChange={(ids) => setAttributes({ selectedPostIds: ids })}\r\n            />\r\n\r\n            <TextControl\r\n              label={__('Number of Posts to Display', 'taiwebmienphi-plus')}\r\n              type=\"number\"\r\n              min={1}\r\n              value={postsPerPage}\r\n              onChange={(value) => setAttributes({ postsPerPage: parseInt(value) || 5 })}\r\n            />\r\n\r\n            <TextControl\r\n              label={__('Text Limit', 'taiwebmienphi-plus')}\r\n              type=\"number\"\r\n              min={1}\r\n              value={titleLimit}\r\n              onChange={(value) => setAttributes({ titleLimit: parseInt(value) || 20 })}\r\n            />\r\n\r\n            <TextControl\r\n              label={__('Excerpt Limit', 'taiwebmienphi-plus')}\r\n              type=\"number\"\r\n              min={1}\r\n              value={excerptLimit}\r\n              onChange={(value) => setAttributes({ excerptLimit: parseInt(value) || 20 })}\r\n            />\r\n\r\n            <TextControl\r\n              label={__('Button Text', 'taiwebmienphi-plus')}\r\n              type=\"string\"\r\n              value={textViewMore}\r\n              onChange={(value) => setAttributes({ textViewMore: value || __('View More', 'taiwebmienphi-plus') })}\r\n            />\r\n          </PanelBody>\r\n        </InspectorControls>\r\n        <div {...blockProps}>\r\n          <div className=\"widget-recent-posts\">\r\n            widget-recent-posts\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n});\r\n"],"names":["primary","createElement","width","height","viewBox","fill","xmlns","d","add","focusable","useSelect","useMemo","registerBlockType","useBlockProps","InspectorControls","PanelBody","ToggleControl","FormTokenField","TextControl","__","block","icons","name","icon","edit","attributes","setAttributes","showDescription","showDate","showAuthor","showCategory","showViewMore","selectedPostIds","postsPerPage","titleLimit","excerptLimit","textViewMore","blockProps","MultiPostSelector","onChange","posts","select","getEntityRecords","per_page","options","map","post","id","title","rendered","selectedTitles","find","p","filter","Boolean","handleChange","titles","ids","found","label","value","suggestions","Fragment","checked","type","min","parseInt","className"],"sourceRoot":""}