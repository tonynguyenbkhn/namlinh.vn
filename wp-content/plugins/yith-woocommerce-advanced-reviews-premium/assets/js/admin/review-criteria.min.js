!function(n,e){const a=".wp-list-table";function r(){n.ajax({url:window.location.href,success:function(i){""!==i&&(i=n("<div></div>").html(i).find(a),n(a).html(i.html()))}})}n(document).on("click",".yith-ywar-criteria__delete",function(i){var t=n(this).data("term_id");i.preventDefault(),yith.ui.confirm({title:ywar_admin.modals.delete_criteria.title,message:ywar_admin.modals.delete_criteria.message,confirmButtonType:"delete",confirmButton:ywar_admin.modals.delete_criteria.button,onConfirm:function(){e.adminAjax({term_id:t,request:"delete_criteria"},{block:n(a)}).done(function(){r()})}})}).on("click",".yith-ywar-criteria__edit",function(i){i.preventDefault();var t=n(this);yith.ui.confirm({title:ywar_admin.modals.edit_criteria.title,message:ywar_admin.modals.edit_criteria.content,confirmButton:ywar_admin.modals.edit_criteria.button,closeAfterConfirm:!1,width:450,classes:{wrap:"yith-ywar-criteria-popup"},onCreate:function(){var i=n(".yith-plugin-fw__panel__section__content");i.find("#criterion_id").val(t.data("term_id")),i.find("#criterion_name").val(t.data("name")),i.find("#criterion_icon").val(t.data("icon")),""!==t.data("icon")&&(i.find(".yith-plugin-fw-media__preview__image").attr("src",t.data("icon_src")),i.find(".yith-plugin-fw-media__preview").attr("data-type","image"))},onConfirm:function(){var t=n(".yith-plugin-fw__panel__section__content"),i={term_id:t.find("#criterion_id").val(),name:t.find("#criterion_name").val(),icon:t.find("#criterion_icon").val(),request:"edit_criteria"};e.adminAjax(i,{block:n(a)}).done(function(i){i.success?(n(".yith-plugin-fw__confirm__button--cancel").trigger("click"),r()):t.prepend(i.data)})}})}).on("click",".yith-ywar-add-criteria",function(i){i.preventDefault(),yith.ui.confirm({title:ywar_admin.modals.add_criteria.title,message:ywar_admin.modals.add_criteria.content,confirmButton:ywar_admin.modals.add_criteria.button,closeAfterConfirm:!1,width:450,classes:{wrap:"yith-ywar-criteria-popup"},onConfirm:function(){var t=n(".yith-plugin-fw__panel__section__content"),i={name:t.find("#criterion_name").val(),icon:t.find("#criterion_icon").val(),request:"add_criteria"};e.adminAjax(i,{block:n(a)}).done(function(i){i.success?(n(".yith-plugin-fw__confirm__button--cancel").trigger("click"),r()):t.prepend(i.data)})}})})}(jQuery,window.ywar);