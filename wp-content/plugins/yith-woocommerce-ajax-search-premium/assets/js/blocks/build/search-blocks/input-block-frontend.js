"use strict";(self.webpackChunkwebpackYWCASBlocksJsonp=self.webpackChunkwebpackYWCASBlocksJsonp||[]).push([[984],{2618:(e,t,a)=>{a.d(t,{Pl:()=>x,Vn:()=>h,n3:()=>f,St:()=>m,D$:()=>_,$W:()=>B,Um:()=>i});var o=a(9196),r=a(5609),s=a(9207),c=a(309);const l=({submitStyle:e,buttonLabel:t,iconType:a,onClick:l,wrapperStyle:n})=>{switch(e){case"text":return(0,o.createElement)(c.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:l},t);case"icon":return"icon-right"===a&&(0,o.createElement)(c.Box,{className:"ywcas-submit-wrapper",sx:n},(0,o.createElement)(r.Icon,{className:"ywcas-submit-icon",onClick:l,icon:(0,s._V)()}));case"iconText":return(0,o.createElement)(c.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:l},(0,o.createElement)(r.Icon,{className:"ywcas-submit-icon",icon:(0,s._V)()})," ",t)}};var n=a(9536);const i=({queryString:e,placeholder:t,placeholderTextColor:a,inputTextColor:i,inputBgColor:m,inputBgFocusColor:u,inputBorderColor:p,inputBorderFocusColor:d,inputBorderSize:y,inputBorderRadius:h,submitContentColor:g,submitContentHoverColor:f,submitBgColor:b,submitBgHoverColor:w,submitBorderColor:E,submitBorderHoverColor:C,submitStyle:_,size:k,setSearchQuery:S,iconType:x,buttonLabel:B,buttonBorderRadius:N,onFocus:v=null,onBlur:L=null,onCloseMobile:T=null,isSmallDevice:A=!1})=>{const $=()=>({borderRadius:"50%",backgroundColor:`${b}!important`,border:"1px solid",borderColor:`${E||"#FFF"} !important`,svg:{height:""!==b&&"#fff"!==b.toLowerCase()&&"#ffffff"!==b.toLowerCase()?"20px":"24px"},"&:hover, & > sgv:hover":{backgroundColor:`${w}!important`,borderColor:`${C||"#FFF"} !important`}}),F=()=>{if(""!==e){const t=n.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+n.YWCAS_LANG+"&s="+e;window.location.href=t}};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.Box,{className:"ywcas-block-components-search-field",sx:{"& .ywcas-input-field-wrapper":{flex:1,borderRadius:`${h.topLeft} ${h.topRight} ${h.bottomRight} ${h.bottomLeft}`,borderColor:`${p||"#7C7C7C"}!important`,borderWidth:`${y.topLeft} ${y.topRight}  ${y.bottomLeft} ${y.bottomRight}`,backgroundColor:`${m||"#FFF"}!important`,borderStyle:"solid",overflow:"hidden","&:focus-within":{backgroundColor:`${u||"#FFF"}!important`,borderColor:`${d||"#5B5B5B"}!important`},"& >div":{width:"100%",padding:0,input:{flex:1}}},"& .ywcas-input-field":{fontSize:"1em!important"},"& .ywcas-input-field input":{color:`${i||"#000"} !important`},"& .ywcas-input-field input::placeholder":{color:`${a||"#000"}`,opacity:1},"& .ywcas-submit-button":{color:`${g||"#fff"} !important`,backgroundColor:`${b||"#a7ab06"} !important`,borderColor:`${E||"#FFF"} !important`,borderRadius:`${N.topLeft} ${N.topRight} ${N.bottomRight} ${N.bottomLeft}`},"& .ywcas-submit-button:hover":{color:`${f||"#fff"} !important`,backgroundColor:`${w||"#a7ab06"} !important`,borderColor:`${C||"#FFF"} !important`},"& .ywcas-submit-icon":{color:`${g||"#000"} !important`},"&:hover .ywcas-submit-icon, & .ywcas-submit-icon:hover":{color:`${f||"#000"} !important`},"& .lapilliUI-Input__backdrop":{display:"none"}}},A&&(0,o.createElement)("div",{className:"mobile-search-close",onClick:T},(0,o.createElement)(r.Icon,{icon:(0,s.Tw)()})),(0,o.createElement)(c.Stack,{direction:"row",spacing:0},(0,o.createElement)(c.Stack,{className:"ywcas-input-field-wrapper"},(0,o.createElement)(c.Input,{className:"ywcas-input-field",placeholder:t,autoComplete:"off",size:k,value:e,onChange:S,onFocus:v,onBlur:L,onKeyDown:e=>{"Enter"===e.key&&F()},startAdornment:"icon"===_&&"icon-left"===x?(0,o.createElement)(c.Box,{className:"ywcas-submit-wrapper",sx:$()},(0,o.createElement)(r.Icon,{className:"ywcas-submit-icon",icon:(0,s._V)()})):null,endAdornment:(0,o.createElement)(l,{submitStyle:_,buttonLabel:B,submitBgColor:b,iconType:x,onClick:F,wrapperStyle:$()})})))))},m=({title:e,searches:t,onClick:a})=>{const r=e=>{e.stopPropagation(),a(e.target.id)};return(0,o.createElement)(c.Stack,{className:"ywcas-popular-searches-wrapper"},(0,o.createElement)(c.Typography,{className:"ywcas-popular-searches__title"},e),t&&(0,o.createElement)(c.Stack,{className:"ywcas-popular-searches-items",direction:"row",sx:{flexWrap:"wrap"},spacing:1},t.map((e=>(0,o.createElement)(c.Button,{className:"ywcas-popular-searches-item",key:e,id:e,onClick:r,size:"md",variant:"outlined"},e)))))};var u=a(6989),p=a.n(u),d=a(9307);const y=({label:e,onClick:t})=>(0,o.createElement)(c.Box,{id:e,className:"ywcas-history-search-item",onClick:t,sx:{"&":{textTransform:"capitalize",fontSize:"0.93em",color:"var(--wp--preset--color--contrast, #709422)"},"&:hover":{cursor:"pointer",textDecoration:"underline"}}},(0,o.createElement)(c.Stack,{direction:"row",spacing:1,align:"center"},(0,o.createElement)(c.Stack,{align:"center",className:"ywcas-history-search-item--icon"},(0,s.T3)({width:"20px"})),(0,o.createElement)(c.Box,{className:"ywcas-history-search-item--item"},e))),h=({title:e,searches:t,onClick:a})=>{const[r,s]=(0,d.useState)(t);(0,d.useEffect)((()=>{s(t)}),[t]);const l=e=>{e.stopPropagation();const t=e.target;let o=!1;o="ywcas-history-search-item"!==t.className?t.closest(".ywcas-history-search-item").id:t.id,o&&a(o)};return 0===r.length?null:(0,o.createElement)("div",{className:"ywcas-history-searches-wrapper"},(0,o.createElement)(c.Stack,{direction:"row",justify:"space-between",align:"center",className:"ywcas-history-header"},(0,o.createElement)(c.Typography,{className:"ywcas-history-searches__title"},e),(0,o.createElement)(c.Box,{className:"ywcas-delete-all-history",onClick:()=>{p()({path:"/ywcas/v1/reset-user-history"}).then((e=>{s([])})).catch((e=>{console.log(e)}))}},n.YWCAS_DELETE_ALL)),r&&r.length>0&&(0,o.createElement)(c.Stack,{className:"ywcas-history-searches-items",spacing:1},r.map((e=>(0,o.createElement)(y,{label:e,key:e,onClick:l})))))};var g=a(5641);const f=({children:e,...t})=>{const a=(0,g.ac)("(max-width: 600px)");return(0,o.createElement)(o.Fragment,null,!a&&(0,o.createElement)(c.Popover,{...t},(0,o.createElement)(c.Box,{className:"popover-content"},e)),a&&(0,o.createElement)(c.Box,{className:"mobile-search-content"},e))};var b=a(5935);const w=({className:e,label:t,backgroundColor:a,color:r,top:s})=>(0,o.createElement)(c.Box,{className:`ywcas-badge ${e}`,sx:{top:`${s}px`,backgroundColor:a,color:r}},t),E=({imageSize:e,marginLeft:t,item:a,showSaleBadge:r,showOutOfStockBadge:s,showFeaturedBadge:l,hideFeaturedIfOnSale:i})=>{const m=Boolean(parseInt(a.instock)),u=r&&Boolean(parseInt(a.onsale)),p=(!i||!u)&&l&&Boolean(parseInt(a.featured)),d=s&&!m,{saleBadgeLabel:y,saleFeaturedLabel:h,saleOutOfStockLabel:g,saleBadgeColors:f,featuredBadgeColors:E,outOfStockBadgeColors:C}=n.ywcasDefaultSettings,_=u?30:5,k=p?_+25:u?30:5;return(0,o.createElement)(c.Stack,{className:"search-result-item__thumbnail",sx:{width:e,marginLeft:t}},u&&(0,o.createElement)(w,{className:"ywcas-onsale-badge",top:5,label:(0,b.ZP)(y),backgroundColor:f.bgcolor,color:f.color}),p&&(0,o.createElement)(w,{className:"ywcas-featured-badge",top:_,label:h,backgroundColor:E.bgcolor,color:E.color}),d&&(0,o.createElement)(w,{className:"ywcas-outofstock-badge",top:k,label:g,backgroundColor:C.bgcolor,color:C.color}),(0,o.createElement)("img",{src:a.thumbnail.small,alt:a.name,width:e}))},C=function(e){const{item:t,searchQuery:a,onClick:s,showName:l,showImage:i,showPrice:m,showCategories:u,showStock:p,showSKU:y,showSummary:h,showAddToCart:f,layout:w,imageSize:C,imagePosition:_,summaryMaxWord:k,productNameColor:S,priceLabel:x,categoryResults:B,results:N}=e,v=(0,g.ac)("(max-width: 600px)"),L="grid"===w?"column":"row",T="list"===w&&"right"===_?"auto":0,[A,$]=(0,d.useState)(!1),F=e=>{let t=B.find((t=>parseInt(t.term_id)===e.parent));return t&&0!==t.parent&&(t=F(t)),t},R=e=>{const t=e.name;return(0,o.createElement)("a",{href:e.url},(0,b.ZP)(t))},z=e=>{e.stopPropagation(),e.target.classList.contains("search-result-add-to-cart")&&(s(e,t,!1),$(!0),jQuery.ajax({url:n.YWCAS_AJAX_URL.toString().replace("%%endpoint%%","add_to_cart"),data:{quantity:1,product_id:t.post_id,product_sku:t.sku},type:"POST",success:function(e){$(!1)}}))};return(0,o.createElement)(c.Box,{className:`search-result-item ${w} ${parseInt(t.is_purchasable)?"":"not-purchasable"}`},(0,o.createElement)(c.Stack,{align:"center",direction:L,spacing:2,className:"search-result-item__content","data-id":t.post_id,"data-name":t.name,onClick:e=>s(e,t)},i&&("grid"===w||"list"===w&&"right"!==_)&&(0,o.createElement)(E,{marginLeft:T,item:t,...e}),(0,o.createElement)((()=>{if(!i&&(0,g.xb)(t.thumbnail))return"";const e=parseInt(t.instock)>0?"in-stock":"out-of-stock";return(0,o.createElement)(c.Stack,{className:"search-result-item_name",sx:{flex:1,alignItems:"left"},onClick:e=>s(e,t,N.totalResults)},l&&(0,o.createElement)(c.Typography,{sx:{color:S,fontSize:"0.9em"},className:"search-result-item__name"},(0,b.ZP)(t.name)),m&&(0,o.createElement)(c.Typography,{className:"search-result-item__price",sx:{fontSize:"0.9em",fontWeight:"600"}},x," ",(0,g.aS)(t)),(0,o.createElement)(c.Box,{className:"search-result-item__inline_group",direction:"row",sx:{display:"block"}},y&&(0,o.createElement)(c.Typography,{className:"search-result-item__sku"},(0,o.createElement)("strong",null,n.YWCAS_SKU_LABEL)," ",t.sku),y&&p&&(0,o.createElement)("span",null,"-"),p&&(0,o.createElement)(c.Typography,{className:`search-result-item__stock stock ${e}`},parseInt(t.instock)?n.YWCAS_IN_STOCK_LABEL:n.YWCAS_OUT_OF_STOCK_LABEL)),u&&(0,o.createElement)(c.Box,{className:"search-result-item__category",sx:{fontSize:"0.7em"}},(e=>{if(B){const t=B.find((t=>parseInt(t.term_id)===e[0]));if(!t)return"";const a=0!==t.parent&&F(t);return a?(0,o.createElement)(c.Box,null,R(a)," ",(0,o.createElement)("span",null," > "),"  ",R(t)):R(t)}return""})(t.parent_category)),h&&"grid"===w&&(0,o.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,g.W7)(t.summary,k)))}),null),v&&h&&"grid"!==w&&(0,o.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,b.ZP)((0,g.W7)(t.summary,k))),f&&(A?(0,o.createElement)(c.Spinner,{color:"default",size:"sm",thickness:3.6}):(0,o.createElement)("div",{className:"wp-block-button"},(0,o.createElement)((()=>{const e=parseInt(t.instock),a="wp-element-button wp-block-button__link wp-block-woocommerce-product-button search-result-add-to-cart";return parseInt(t.is_purchasable)&&e&&("simple"===t.product_type||"variation"===t.product_type)&&0<parseFloat(null==t?void 0:t.max_price)?(0,o.createElement)(r.Button,{className:a,onClick:z},n.YWCAS_ADD_TO_CART_LABEL):e&&"variable"===t.product_type&&0<parseFloat(null==t?void 0:t.max_price)?(0,o.createElement)(r.Button,{size:"sm",className:a,onClick:e=>s(e,t)},n.YWCAS_SELECT_OPTIONS):(0,o.createElement)(r.Button,{size:"sm",className:a,onClick:e=>s(e,t)},n.YWCAS_READ_MORE)}),null))),i&&"list"===w&&"right"===_&&(0,o.createElement)(E,{marginLeft:T,item:t,...e})),!v&&h&&"grid"!==w&&(0,o.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,b.ZP)((0,g.W7)(t.summary,k))))},_=e=>{const{searchQuery:t,layout:a,results:r,categoryList:s,noResults:l,showViewAll:i,showViewAllText:m,maxResultsToShow:u}=e,d=(e,a,o=!0)=>{e.stopPropagation();const s="/ywcas/v1/register?itemID="+a.post_id+"&queryString="+t+"&totalResults="+r.totalResults+"&lang="+n.YWCAS_LANG;p()({path:s}).then((()=>{o&&y(a)})).catch((e=>{console.log(e)}))},y=e=>{e.url&&(window.location.href=e.url)},h=m.replace("{total}",r.totalResults),g=r.results;return(0,o.createElement)(o.Fragment,null,g&&g.length&&(0,o.createElement)(c.Grid,{className:`ywcas-search-results-grid ${a}`,columns:1},g.map(((t,a)=>(0,o.createElement)(C,{key:a,item:t,onClick:d,results:r,categoryResults:s,...e})))),!g&&(0,o.createElement)(c.Typography,null,l),g&&i&&u<r.totalResults&&(0,o.createElement)("div",{className:"ywcas-total-results"}," > ",(0,o.createElement)("a",{className:"total-results-link",href:"#",onClick:()=>{const e=!1!==r.fuzzyToken?r.fuzzyToken:t,a=n.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+n.YWCAS_LANG+"&s="+e;window.location.href=a}},h)))};var k=a(5736);const S=({query:e,singleCategory:t})=>{const a=t.url+"?ywcas=1&ywcas_filter="+e+"&lang="+n.YWCAS_LANG;return(0,o.createElement)(c.Stack,{direction:"row",align:"center",sx:{gap:"4px",paddingBottom:"10px"},className:"ywcas-category-result"},(0,o.createElement)(c.Typography,{sx:{fontWeight:"bold",fontSize:"0.93em"}},e),(0,o.createElement)(c.Typography,{sx:{fontSize:"0.81em",color:"#8F8080"}},n.YWCAS_IN_CATEGORY),(0,o.createElement)("a",{href:a},(0,o.createElement)(c.Typography,{sx:{fontSize:"0.93em",textTransform:"capitalize",color:"var(--wp--preset--color--contrast,#007565)"}},(0,b.ZP)(t.name))))},x=({label:e,query:t,categories:a,results:r,maxResults:s})=>{const l=(e,t)=>{let a=!1;return e.forEach((e=>{a||(e.term_id===t?a=e:Array.isArray(e.children)&&(a=l(e.children,t)))})),a};return(0,o.createElement)(c.Stack,null,(()=>{let n=(()=>{let e=[];if(r)return r.forEach((t=>{t.parent_category.length>0&&(e=e.concat(t.parent_category))})),e})();if(n.length>0){const r=(0,g.s3)(n,s);return(0,o.createElement)(c.Stack,{className:"search-category-results",sx:{"& .ywcas-category-result:last-child":{paddingBottom:0}}},e&&(0,o.createElement)(c.Typography,{sx:{"&":{borderBottom:"1px solid #9797972e",marginBottom:"17px"}},className:"search-category-results-label"},e),r.map((e=>{const r=l(a,e);if(r)return(0,o.createElement)(S,{key:r.term_id,query:t,singleCategory:r})})))}})())},B=({label:e,posts:t,background:a,maxResults:r})=>{let s=!1;return t&&t.length&&(s=t.length>r?t.slice(0,r):t),(0,o.createElement)(c.Box,{className:"ywcas-related-content",sx:{background:a}},(0,o.createElement)(c.Typography,{className:"ywcas-related-content__label"},e),s&&s.map((e=>(0,o.createElement)(c.Typography,{className:"ywcas-related-content__link",key:e.id},"> ",(0,o.createElement)("a",{key:e,href:e.url},e.name)))),!s&&(0,o.createElement)(c.Typography,{className:"ywcas-related-content__no_result"},(0,k.__)("No related content found","yith-woocommerce-ajax-search")))};a(3967),a(6153)},5641:(e,t,a)=>{a.d(t,{W7:()=>i,aS:()=>n,ac:()=>u,s3:()=>m,xb:()=>s}),a(5935);var o=a(9536),r=a(9196);const s=e=>void 0===e||("object"==typeof e?0===Object.keys(e).length:e.hasOwnProperty(length)?0===e.length:"undefined"),c=e=>accounting.formatMoney(e,o.ywcas_wc_data.currency),l=(e,t=0)=>{const a=c(e);return parseFloat(t)&&t!==e?`${c(t)} - ${a}`:a},n=e=>{let t=""!==e.max_price?l(e.max_price):"";return"variable"===e.product_type?t=l(e.max_price,e.min_price):parseInt(e.onsale)&&""!==e.min_price&&(t=l(e.min_price)),t},i=(e,t)=>e.split(" ").slice(0,t).join(" "),m=(e,t=3)=>{const a=new Map;for(const t of e)a.has(t)?a.set(t,a.get(t)+1):a.set(t,1);return[...a.entries()].sort(((e,t)=>t[1]-e[1])).slice(0,t).map((e=>e[0]))},u=e=>{const t=(0,r.useMemo)((()=>window.matchMedia(e)),[e]),[a,o]=(0,r.useState)(t.matches);return(0,r.useEffect)((()=>{const e=()=>o(t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[t]),a}},6997:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var o=a(3568),r=a(9196),s=a(9307),c=a(309),l=a(2618),n=a(4768),i=a(5641);var m=a(5736);const u={placeholder:{type:"string",default:(0,m.__)("Search products...","yith-woocommerce-ajax-search")},placeholderTextColor:{type:"string",default:"#000"},iconType:{type:"string",default:"icon-right"},inputTextColor:{type:"string",default:"#000"},inputBgColor:{type:"string",default:"#fff"},inputBgFocusColor:{type:"string",default:"#fff"},inputBorderColor:{type:"string",default:"#7C7C7C"},inputBorderFocusColor:{type:"string",default:"#5B5B5B"},inputBorderSize:{type:"object",default:{topLeft:"1px",topRight:"1px",bottomLeft:"1px",bottomRight:"1px"}},inputBorderRadius:{type:"object",default:{topLeft:"20px",topRight:"20px",bottomLeft:"20px",bottomRight:"20px"}},submitContentColor:{type:"string",default:"#000"},submitContentHoverColor:{type:"string",default:"#000"},submitBorderColor:{type:"string",default:"#fff"},submitBorderHoverColor:{type:"string",default:"#fff"},submitBgColor:{type:"string",default:"#fff"},submitBgHoverColor:{type:"string",default:"#fff"},submitStyle:{type:"string",default:"icon"},className:{type:"string",default:"ywcas-input-block"},buttonLabel:{type:"string",default:(0,m.__)("Search","yith-woocommerce-ajax-search-premium")},buttonBorderRadius:{type:"object",default:{topLeft:"10px",topRight:"10px",bottomLeft:"10px",bottomRight:"10px"}},lock:{type:"object",default:{remove:!1,move:!1}}},p=(0,o.B)(u)((e=>{const{placeholder:t=""}=e,{query:a,setQuery:o,inputFocused:m,setInputFocused:u,size:p}=(0,n.AB)(),d=(0,s.useRef)(null),y=(0,i.ac)("(max-width: 600px)"),[h,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(a);(0,s.useEffect)((()=>{b(a)}),[a]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{o(f)}),1e3);return()=>clearTimeout(e)}),[f]),(0,s.useEffect)((()=>{m&&(y?!h&&w():E())}),[y,m]);const w=()=>{const e=document.querySelector("#wpadminbar"),t=document.querySelector("#ywtenv-banner");let a=document.querySelector(".ywcas-search-mobile");if(!a){a=document.createElement("div"),a.classList.add("ywcas-search-mobile"),(e||t)&&a.classList.add("with-wp-admin-toolbar");const o=m.closest(".wp-block-yith-search-block"),r=Array.prototype.indexOf.call(o.parentNode.childNodes,o);o.parentNode.classList.add("ywcas-block-mounted"),o.parentNode.dataset.ywcasTarget=r,a.append(o),document.body.append(a),document.body.classList.add("ywcas-disable-overflow"),document.documentElement.style.overflow="hidden",g(!0)}},E=()=>{const e=document.querySelector(".ywcas-search-mobile");if(e){const t=e.querySelector(".wp-block-yith-search-block"),a=document.querySelector(".ywcas-block-mounted"),o=a.dataset.ywcasTarget;o<a.childNodes.length-1?a.insertBefore(t,a.childNodes[o]):a.append(t),e.remove(),a.classList.remove("ywcas-block-mounted"),document.body.classList.remove("ywcas-disable-overflow"),document.documentElement.style.overflow=""}g(!1)};return(0,r.createElement)(c.Box,{ref:d},(0,r.createElement)(l.Um,{placeholder:t,setSearchQuery:(e,t)=>{e?(e.stopPropagation(),m||u(null==d?void 0:d.current),f!==e.target.value&&b(e.target.value)):b(t)},queryString:f,onFocus:()=>{u(null==d?void 0:d.current)},onCloseMobile:()=>{E(),b(""),u(null);const e=new CustomEvent("ywcas-close-mobile",{detail:{},bubbles:!0,cancelable:!0,composed:!1});document.dispatchEvent(e)},size:p,isSmallDevice:y,...e}))}))},3568:(e,t,a)=>{a.d(t,{B:()=>s});var o=a(9196),r=a(8669);const s=e=>t=>a=>{const s=(0,r.F)(e,a);return(0,o.createElement)(t,{...a,...s})}}}]);