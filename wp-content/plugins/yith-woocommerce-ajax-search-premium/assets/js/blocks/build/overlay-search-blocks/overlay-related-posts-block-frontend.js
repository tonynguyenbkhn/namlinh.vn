"use strict";(self.webpackChunkwebpackYWCASBlocksJsonp=self.webpackChunkwebpackYWCASBlocksJsonp||[]).push([[306],{2618:(e,t,a)=>{a.d(t,{Pl:()=>w,Vn:()=>g,aV:()=>_,tl:()=>S,St:()=>l,$W:()=>b,Rq:()=>k,Oh:()=>C});var r=a(9196),n=a(5609),o=a(309),s=a(9536);const l=({title:e,searches:t,onClick:a})=>{const n=e=>{e.stopPropagation(),a(e.target.id)};return(0,r.createElement)(o.Stack,{className:"ywcas-popular-searches-wrapper"},(0,r.createElement)(o.Typography,{className:"ywcas-popular-searches__title"},e),t&&(0,r.createElement)(o.Stack,{className:"ywcas-popular-searches-items",direction:"row",sx:{flexWrap:"wrap"},spacing:1},t.map((e=>(0,r.createElement)(o.Button,{className:"ywcas-popular-searches-item",key:e,id:e,onClick:n,size:"md",variant:"outlined"},e)))))};var c=a(6989),i=a.n(c),p=a(9207),u=a(9307);const m=({label:e,onClick:t})=>(0,r.createElement)(o.Box,{id:e,className:"ywcas-history-search-item",onClick:t,sx:{"&":{textTransform:"capitalize",fontSize:"0.93em",color:"var(--wp--preset--color--contrast, #709422)"},"&:hover":{cursor:"pointer",textDecoration:"underline"}}},(0,r.createElement)(o.Stack,{direction:"row",spacing:1,align:"center"},(0,r.createElement)(o.Stack,{align:"center",className:"ywcas-history-search-item--icon"},(0,p.T3)({width:"20px"})),(0,r.createElement)(o.Box,{className:"ywcas-history-search-item--item"},e))),g=({title:e,searches:t,onClick:a})=>{const[n,l]=(0,u.useState)(t);(0,u.useEffect)((()=>{l(t)}),[t]);const c=e=>{e.stopPropagation();const t=e.target;let r=!1;r="ywcas-history-search-item"!==t.className?t.closest(".ywcas-history-search-item").id:t.id,r&&a(r)};return 0===n.length?null:(0,r.createElement)("div",{className:"ywcas-history-searches-wrapper"},(0,r.createElement)(o.Stack,{direction:"row",justify:"space-between",align:"center",className:"ywcas-history-header"},(0,r.createElement)(o.Typography,{className:"ywcas-history-searches__title"},e),(0,r.createElement)(o.Box,{className:"ywcas-delete-all-history",onClick:()=>{i()({path:"/ywcas/v1/reset-user-history"}).then((e=>{l([])})).catch((e=>{console.log(e)}))}},s.YWCAS_DELETE_ALL)),n&&n.length>0&&(0,r.createElement)(o.Stack,{className:"ywcas-history-searches-items",spacing:1},n.map((e=>(0,r.createElement)(m,{label:e,key:e,onClick:c})))))};var d=a(5935),h=a(5641),y=a(5736);const f=({query:e,singleCategory:t})=>{const a=t.url+"?ywcas=1&ywcas_filter="+e+"&lang="+s.YWCAS_LANG;return(0,r.createElement)(o.Stack,{direction:"row",align:"center",sx:{gap:"4px",paddingBottom:"10px"},className:"ywcas-category-result"},(0,r.createElement)(o.Typography,{sx:{fontWeight:"bold",fontSize:"0.93em"}},e),(0,r.createElement)(o.Typography,{sx:{fontSize:"0.81em",color:"#8F8080"}},s.YWCAS_IN_CATEGORY),(0,r.createElement)("a",{href:a},(0,r.createElement)(o.Typography,{sx:{fontSize:"0.93em",textTransform:"capitalize",color:"var(--wp--preset--color--contrast,#007565)"}},(0,d.ZP)(t.name))))},w=({label:e,query:t,categories:a,results:n,maxResults:s})=>{const l=(e,t)=>{let a=!1;return e.forEach((e=>{a||(e.term_id===t?a=e:Array.isArray(e.children)&&(a=l(e.children,t)))})),a};return(0,r.createElement)(o.Stack,null,(()=>{let c=(()=>{let e=[];if(n)return n.forEach((t=>{t.parent_category.length>0&&(e=e.concat(t.parent_category))})),e})();if(c.length>0){const n=(0,h.s3)(c,s);return(0,r.createElement)(o.Stack,{className:"search-category-results",sx:{"& .ywcas-category-result:last-child":{paddingBottom:0}}},e&&(0,r.createElement)(o.Typography,{sx:{"&":{borderBottom:"1px solid #9797972e",marginBottom:"17px"}},className:"search-category-results-label"},e),n.map((e=>{const n=l(a,e);if(n)return(0,r.createElement)(f,{key:n.term_id,query:t,singleCategory:n})})))}})())},b=({label:e,posts:t,background:a,maxResults:n})=>{let s=!1;return t&&t.length&&(s=t.length>n?t.slice(0,n):t),(0,r.createElement)(o.Box,{className:"ywcas-related-content",sx:{background:a}},(0,r.createElement)(o.Typography,{className:"ywcas-related-content__label"},e),s&&s.map((e=>(0,r.createElement)(o.Typography,{className:"ywcas-related-content__link",key:e.id},"> ",(0,r.createElement)("a",{key:e,href:e.url},e.name)))),!s&&(0,r.createElement)(o.Typography,{className:"ywcas-related-content__no_result"},(0,y.__)("No related content found","yith-woocommerce-ajax-search")))},C=({iconColor:e,iconColorHover:t,onClick:a})=>(0,r.createElement)(o.IconButton,{onClick:a,sx:{color:e,"&:hover":{color:t}},children:(0,r.createElement)(n.Icon,{icon:(0,p._V)()})}),k=({queryString:e,placeholder:t,placeholderTextColor:a,inputTextColor:l,inputBgColor:c,inputBgFocusColor:i,inputBorderColor:u,inputBorderFocusColor:m,inputBorderSize:g,inputBorderRadius:d,onChange:h,onFocus:y=null,onBlur:f=null})=>(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.Box,{className:"ywcas-block-components-simple-search-field",sx:{"& .ywcas-simple-input-field-wrapper":{flex:1,borderRadius:`${d.topLeft} ${d.topRight} ${d.bottomRight} ${d.bottomLeft}`,borderColor:`${u||"#7C7C7C"}!important`,borderWidth:`${g.topLeft} ${g.topRight}  ${g.bottomLeft} ${g.bottomRight}`,backgroundColor:`${c||"#FFF"}!important`,borderStyle:"solid",overflow:"hidden",padding:"0 10px","&:focus-within":{backgroundColor:`${i||"#FFF"}!important`,borderColor:`${m||"#5B5B5B"}!important`},"& >div":{width:"100%",padding:0,input:{flex:1},"div.lapilliUI-Input__backdrop":{display:"none"}}},"& .ywcas-input-field input":{color:`${l||"#000"} !important`,fontSize:"1em!important"},"& .ywcas-input-field input::placeholder":{color:`${a||"#000"}`,opacity:1}}},(0,r.createElement)(o.Stack,{direction:"row",spacing:0},(0,r.createElement)(o.Stack,{className:"ywcas-simple-input-field-wrapper"},(0,r.createElement)(o.Input,{className:"ywcas-input-field",placeholder:t,autoComplete:"off",size:"xl",fullWidth:!0,value:e,onChange:h,onFocus:y,onBlur:f,onKeyDown:t=>{"Enter"===t.key&&(()=>{if(""!==e){const t=s.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+s.YWCAS_LANG+"&s="+e;window.location.href=t}})()},startAdornment:(0,r.createElement)(o.Box,{className:"ywcas-submit-wrapper",sx:{pointerEvents:"none"}},(0,r.createElement)(n.Icon,{className:"ywcas-submit-icon",icon:(0,p._V)()}))}))))),_=({isOpen:e,onClose:t,children:a,disablePortal:n,className:s})=>((0,u.useEffect)((()=>{document.documentElement.style.overflow=e?"hidden":""}),[e]),(0,r.createElement)(o.Modal,{onClose:t,open:e,fullWidth:!0,maxWidth:"100%",disablePortal:n,sx:{"&":{background:"rgba255,255,255,0)"},"& .lapilliUI-Backdrop__root":{opacity:"0.97!important",background:"rgb(255,255,255)"},"& .lapilliUI-Modal__paper":{margin:0,maxHeight:"100vh",height:"100vh",borderRadius:0,boxShadow:"none",paddingTop:"100px",boxSizing:"border-box",background:"transparent"},"& button.lapilliUI-Modal__close":{"font-size":"40px",width:"42px",height:"42px"}},className:s},(0,r.createElement)(o.ModalContent,null,a)));var E=a(3967),x=a.n(E);const S=({currentPage:e,displayFirstAndLastPages:t=!0,displayNextAndPreviousArrows:a=!0,pagesToDisplay:n=2,onPageChange:s,totalPages:l})=>{let{minIndex:c,maxIndex:i}=((e,t,a)=>{if(a<=2)return{minIndex:null,maxIndex:null};const r=e-1,n=Math.max(Math.floor(t-r/2),2),o=Math.min(Math.ceil(t+(r-(t-n))),a-1);return{minIndex:Math.max(Math.floor(t-(r-(o-t))),2),maxIndex:o}})(n,e,l);const p=t&&Boolean(1!==c),u=t&&Boolean(i!==l),m=t&&Boolean(c&&c>3),g=t&&Boolean(i&&i<l-2);p&&3===c&&(c-=1),u&&i===l-2&&(i+=1);const d=[];if(c&&i)for(let e=c;e<=i;e++)d.push(e);return(0,r.createElement)(o.Box,{className:"wc-block-pagination wc-block-components-pagination",sx:{"& button:hover":{color:"#333"}}},a&&(0,r.createElement)("button",{className:"wc-block-pagination-page wc-block-components-pagination__page wc-block-components-pagination-page--arrow",onClick:()=>s(e-1),title:(0,y.__)("Previous page","woo-gutenberg-products-block"),disabled:e<=1},(0,r.createElement)("span",null,"←")),p&&(0,r.createElement)("button",{className:x()("wc-block-pagination-page","wc-block-components-pagination__page",{"wc-block-pagination-page--active":1===e,"wc-block-components-pagination__page--active":1===e}),onClick:()=>s(1),disabled:1===e},(0,r.createElement)("span",null,"1")),m&&(0,r.createElement)("span",{className:"wc-block-pagination-ellipsis wc-block-components-pagination__ellipsis","aria-hidden":"true"},(0,y.__)("…","woo-gutenberg-products-block")),d.map((t=>(0,r.createElement)("button",{key:t,className:x()("wc-block-pagination-page","wc-block-components-pagination__page",{"wc-block-pagination-page--active":e===t,"wc-block-components-pagination__page--active":e===t}),onClick:e===t?void 0:()=>s(t),disabled:e===t},(0,r.createElement)("span",null,t)))),g&&(0,r.createElement)("span",{className:"wc-block-pagination-ellipsis wc-block-components-pagination__ellipsis","aria-hidden":"true"},(0,y.__)("…","woo-gutenberg-products-block")),u&&(0,r.createElement)("button",{className:x()("wc-block-pagination-page","wc-block-components-pagination__page",{"wc-block-pagination-page--active":e===l,"wc-block-components-pagination__page--active":e===l}),onClick:()=>s(l),disabled:e===l},(0,r.createElement)("span",null,l)),a&&(0,r.createElement)("button",{className:"wc-block-pagination-page wc-block-components-pagination__page wc-block-components-pagination-page--arrow",onClick:()=>s(e+1),title:(0,y.__)("Next page","woo-gutenberg-products-block"),disabled:e>=l},(0,r.createElement)("span",null,"→")))};a(6153)},7242:(e,t,a)=>{a.d(t,{S:()=>p}),a(9196);var r=a(9307),n=a(9818);const o=(0,r.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})});var s=a(7307),l=a(2991),c=a.n(l);const i={},p=(e={query:"",showCategories:!1,maxResults:5,page:0})=>{const t=(0,r.useRef)({}),{isEditor:a}=(0,r.useContext)(o),{query:l,showCategories:p,maxResults:u,page:m}=e,g=a?"":l,d=(0,n.useSelect)((e=>{const t=`${g}-${m}`;if(!a&&i[t])return{results:i[t],isSearching:!1};{const r=e(s.YWCAS_RESULTS_VIEW_STORE_KEY),n=r.getSearchedResults(g,0,p,u,m,a),o=!r.hasFinishedResolution("getSearchedResults",[g,0,p,u,m,a]),l={results:n,isSearching:o};return o||(i[t]=n),l}}));return t.current&&c()(t.current,d)||(t.current=d),{results:t.current.results,isSearching:t.current.isSearching,getCategories:e=>(0,n.useSelect)((t=>{const a=t(s.YWCAS_RESULTS_VIEW_STORE_KEY);return{categories:a.getCategories(e),isLoading:!a.hasFinishedResolution("getCategories",[e])}}),[e]),getResults:(e=!1,t=0)=>(0,n.useSelect)((a=>{const r=a(s.YWCAS_RESULTS_VIEW_STORE_KEY),n=r.getResults(),o=`${e}-${t}`;return{results:i[o]?i[o]:n,isLoading:""===r.getLastQuery()}}),[e,t])}}},5641:(e,t,a)=>{a.d(t,{aS:()=>s,s3:()=>l}),a(5935);var r=a(9536);a(9196);const n=e=>accounting.formatMoney(e,r.ywcas_wc_data.currency),o=(e,t=0)=>{const a=n(e);return parseFloat(t)&&t!==e?`${n(t)} - ${a}`:a},s=e=>{let t=""!==e.max_price?o(e.max_price):"";return"variable"===e.product_type?t=o(e.max_price,e.min_price):parseInt(e.onsale)&&""!==e.min_price&&(t=o(e.min_price)),t},l=(e,t=3)=>{const a=new Map;for(const t of e)a.has(t)?a.set(t,a.get(t)+1):a.set(t,1);return[...a.entries()].sort(((e,t)=>t[1]-e[1])).slice(0,t).map((e=>e[0]))}},2830:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(3568),n=a(9196),o=a(309),s=a(7242),l=a(2618),c=a(3526);var i=a(9536);const p={relatedPostsHeading:{type:"string",default:i.ywcasDefaultSettings.relatedLabel},maxPostsRelated:{type:"number",default:i.ywcasDefaultSettings.maxRelatedResults},enabledPost:{type:"boolean",default:!0},enabledPage:{type:"boolean",default:!0},background:{type:"string",default:i.ywcasDefaultSettings.relateBgColor}},u=(0,r.B)(p)((e=>{var t;const{relatedPostsHeading:a,maxPostsRelated:r,background:i,enabledPost:p,enabledPage:u}=e,{query:m,page:g}=(0,c.AB)(),{getResults:d}=(0,s.S)(),{isLoading:h,results:y}=d(m,g);if(h)return null;if(null===(t=y.related_content)||void 0===t||!t.results||0===y.related_content.results.length)return null;let f=y.related_content.results;return p||(f=f.filter((e=>"post"!==e.post_type))),u||(f=f.filter((e=>"page"!==e.post_type))),0===f.length?null:(0,n.createElement)(o.Box,{className:"ywcas-overlay-related-content-wrapper"},!h&&(0,n.createElement)(l.$W,{label:a,posts:f,background:i,maxResults:r}))}))},9207:(e,t,a)=>{a.d(t,{T3:()=>s,_V:()=>o});var r=a(9196);let n=wp.element.createElement;function o(e){return(0,r.createElement)("svg",{fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",...e},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))}function s(e){return(0,r.createElement)("svg",{fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",...e},(0,r.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}n("svg",{width:22,height:22},n("path",{d:"M 18.24 7.628 C 17.291 8.284 16.076 8.971 14.587 9.688 C 15.344 7.186 15.765 4.851 15.849 2.684 C 15.912 0.939 15.133 0.045 13.514 0.003 C 11.558 -0.06 10.275 1.033 9.665 3.284 C 10.007 3.137 10.359 3.063 10.723 3.063 C 11.021 3.063 11.267 3.184 11.459 3.426 C 11.651 3.668 11.736 3.947 11.715 4.262 C 11.695 5.082 11.276 5.961 10.46 6.896 C 9.644 7.833 8.918 8.3 8.282 8.3 C 7.837 8.3 7.625 7.922 7.646 7.165 C 7.667 6.765 7.804 5.955 8.056 4.735 C 8.287 3.579 8.403 2.801 8.403 2.401 C 8.403 1.707 8.224 1.144 7.867 0.713 C 7.509 0.282 6.994 0.098 6.321 0.161 C 5.858 0.203 5.175 0.624 4.27 1.422 C 3.596 2.035 2.923 2.644 2.25 3.254 L 2.976 4.106 C 3.564 3.664 3.922 3.443 4.048 3.443 C 4.448 3.443 4.637 3.717 4.617 4.263 C 4.617 4.306 4.427 4.968 4.049 6.251 C 3.671 7.534 3.471 8.491 3.449 9.122 C 3.407 9.985 3.565 10.647 3.924 11.109 C 4.367 11.677 5.106 11.919 6.142 11.835 C 7.366 11.751 8.591 11.298 9.816 10.479 C 10.323 10.142 10.808 9.753 11.273 9.311 C 11.105 10.153 10.905 10.868 10.673 11.457 C 8.402 12.487 6.762 13.37 5.752 14.107 C 4.321 15.137 3.554 16.241 3.449 17.419 C 3.259 19.459 4.29 20.479 6.541 20.479 C 8.055 20.479 9.517 19.554 10.926 17.703 C 12.125 16.126 13.166 14.022 14.049 11.394 C 15.578 10.635 16.87 9.892 17.928 9.164 C 17.894 9.409 18.319 7.308 18.24 7.628 Z  M 7.393 16.095 C 7.056 16.095 6.898 15.947 6.919 15.653 C 6.961 15.106 7.908 14.38 9.759 13.476 C 8.791 15.221 8.002 16.095 7.393 16.095 Z"}))},3568:(e,t,a)=>{a.d(t,{B:()=>o});var r=a(9196),n=a(8669);const o=e=>t=>a=>{const o=(0,n.F)(e,a);return(0,r.createElement)(t,{...a,...o})}},2991:e=>{e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,n,o;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(n=r;0!=n--;)if(!e(t[n],a[n]))return!1;return!0}if(t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(n of t.entries())if(!a.has(n[0]))return!1;for(n of t.entries())if(!e(n[1],a.get(n[0])))return!1;return!0}if(t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(n of t.entries())if(!a.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((r=t.length)!=a.length)return!1;for(n=r;0!=n--;)if(t[n]!==a[n])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(a,o[n]))return!1;for(n=r;0!=n--;){var s=o[n];if(!e(t[s],a[s]))return!1}return!0}return t!=t&&a!=a}}}]);